:root{--tg-theme-bg-color: #81D8D0;--tg-theme-text-color: #000000;--tg-theme-button-color: #40a7e3;--tg-theme-button-text-color: #ffffff;--tg-theme-secondary-bg-color: rgba(255, 255, 255, .8);--tg-theme-hint-color: #999999;--cloud-color-1: #e3f2fd;--cloud-color-2: #e8f5e9;--cloud-color-3: #fff8e1}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Montserrat,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background-color:var(--tg-theme-bg-color)!important;color:var(--tg-theme-text-color);display:flex;justify-content:center;padding:0;min-height:100vh}.app-container{width:100%;max-width:500px;display:flex;flex-direction:column;align-items:center;padding:0;position:relative;height:100vh;background-color:var(--tg-theme-bg-color)}.app-title{font-family:Dancing Script,cursive;font-size:3rem;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.1);text-align:center;margin:100px 0 20px}.user-profile{position:absolute;top:20px;right:20px;display:flex;align-items:center;margin-top:65px;gap:10px;flex-direction:column;align-items:flex-end;z-index:10}.user-photo{width:50px;height:50px;border-radius:50%;background-color:#ccc;background-size:cover;background-position:center;border:2px solid #fff;box-shadow:0 2px 4px #0000001a}#user-name{font-size:1.2rem;font-family:Dancing Script,cursive;font-weight:500;color:#bb4545;text-shadow:0 1px 2px rgba(0,0,0,.1)}.main-wrapper{width:calc(100% - 40px);height:calc(100% - 40px);background-color:#fff;border-radius:20px;padding:20px;box-shadow:0 4px 20px #0000001a;margin-bottom:20px}.app-description{font-size:1.1rem;color:var(--tg-theme-text-color);margin-bottom:20px}button{background-color:var(--tg-theme-button-color);color:var(--tg-theme-button-text-color);border:none;padding:12px 20px;border-radius:10px;font-size:16px;cursor:pointer;font-family:Montserrat,sans-serif;font-weight:500;box-shadow:0 2px 5px #0000001a;transition:transform .2s,box-shadow .2s}button:active{transform:translateY(1px);box-shadow:0 1px 2px #0000001a}.camera-button-container{width:100%;display:flex;justify-content:center;margin-bottom:30px}.camera-btn{width:70px;height:70px;border-radius:50%;background-color:#fff;color:var(--tg-theme-button-color);display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 4px 10px #00000026;transition:transform .3s ease}.camera-btn:active{transform:scale(.95)}.camera-btn svg{width:30px;height:30px}#result-container{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--tg-theme-bg-color);z-index:900;padding:20px;overflow-y:auto;display:flex;flex-direction:column;align-items:center}#result-container h2{margin-top:20px;font-size:1.8rem;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.1)}#analysis-result{background-color:#fff;border-radius:15px;padding:20px;margin:15px 0;text-align:left;box-shadow:0 2px 8px #0000001a;width:100%;max-width:calc(100% - 40px)}#cloud-comments{margin-top:30px;width:100%;max-width:calc(100% - 40px)}#cloud-comments h3{font-size:1.4rem;color:#fff;margin-bottom:15px;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.1)}.clouds-wrapper{display:flex;flex-direction:column;gap:15px}.comment-cloud{padding:15px;border-radius:18px;text-align:left;position:relative;max-width:85%;box-shadow:0 2px 5px #0000001a}.comment-cloud:nth-child(odd){align-self:flex-start;background-color:var(--cloud-color-1);border-bottom-left-radius:5px}.comment-cloud:nth-child(2n){align-self:flex-end;background-color:var(--cloud-color-2);border-bottom-right-radius:5px}.comment-cloud:nth-child(3n){background-color:var(--cloud-color-3)}.result-actions{display:flex;gap:15px;margin-top:25px;margin-bottom:30px;width:100%;max-width:calc(100% - 40px)}.result-actions button{flex:1}#share-result-btn{background-color:#4caf50}.hidden{display:none!important}.loading{display:flex;align-items:center;justify-content:center;padding:20px 0;color:var(--tg-theme-text-color)}.error{color:#e53935;margin:10px 0;padding:10px;background-color:#e539351a;border-radius:8px}.history-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin:16px 0;width:100%}.history-cell{position:relative;aspect-ratio:3/4;border-radius:12px;overflow:hidden;background-color:#f0f0f0;background-size:cover;background-position:center;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,.1);-webkit-user-select:none;user-select:none}.history-cell:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.history-cell-content{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.history-date{position:absolute;bottom:8px;left:8px;background-color:#0009;color:#fff;padding:4px 8px;border-radius:12px;font-size:11px;-webkit-user-select:none;user-select:none}.history-cell.delete-mode{transform:scale(1.05);box-shadow:0 0 15px #0000004d}.delete-history-btn{position:absolute;bottom:8px;left:50%;transform:translate(-50%);background-color:#ff3b30;color:#fff;border:none;border-radius:16px;padding:8px 16px;font-size:14px;display:flex;align-items:center;justify-content:center;gap:6px;box-shadow:0 2px 8px #0003;z-index:10;cursor:pointer;animation:fadeIn .3s ease;transition:opacity .3s ease,transform .2s ease}.delete-history-btn:hover{transform:translate(-50%) scale(1.05)}.delete-history-btn:active{transform:translate(-50%) scale(.95);opacity:.9}.delete-history-btn svg{flex-shrink:0}@keyframes fadeIn{0%{opacity:0;transform:translate(-50%) translateY(10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.photo-error-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#000000b3;color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;font-size:12px;padding:10px;z-index:5}.add-analysis{width:40px;height:40px;border-radius:50%;background-color:#08c;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 2px 4px #0003;transition:transform .2s ease,box-shadow .2s ease}.add-analysis:hover{transform:scale(1.1);box-shadow:0 4px 8px #0000004d}.add-analysis svg{width:24px;height:24px;stroke:#fff}.history-cell.filled{background-size:cover;background-position:center;border:2px solid #4caf50}.history-cell-caption{position:absolute;bottom:0;left:0;right:0;background-color:#0009;color:#fff;padding:8px;border-bottom-left-radius:10px;border-bottom-right-radius:10px;font-size:12px;font-weight:500}#save-result-btn{background-color:#2196f3}#photo-preview-container{position:fixed;top:20px;left:20px;right:20px;bottom:20px;background-color:#000000e6;z-index:1000;display:flex;justify-content:center;align-items:center;border-radius:15px;opacity:0;transform:scale(.95);transition:opacity .3s ease,transform .3s ease;cursor:pointer}#photo-preview-container img{max-width:90%;max-height:90%;object-fit:contain;border-radius:10px;box-shadow:0 0 20px #0000004d}#photo-preview-container .date-caption{position:absolute;bottom:15px;left:0;right:0;text-align:center;color:#fff;font-size:14px;padding:5px;background-color:#00000080}.photo-source-menu{position:fixed;bottom:80px;left:50%;transform:translate(-50%);background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0003;display:flex;flex-direction:column;width:250px;z-index:1000;overflow:hidden}.photo-source-menu div{padding:15px;text-align:center;cursor:pointer;transition:background-color .2s ease}.photo-source-menu div:hover{background-color:#f5f5f5}.classification-toast{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#000c;color:#fff;padding:15px 20px;border-radius:12px;font-size:16px;text-align:center;z-index:2000;min-width:250px;box-shadow:0 4px 12px #0000004d;transition:transform .3s ease,opacity .3s ease}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner{animation:spin 1s linear infinite}.history-cell.delete-mode{transform:scale(1.05);box-shadow:0 6px 12px #0003;z-index:10}.history-cell,.history-cell *{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}
